<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
    <meta charset="utf-8" />
    <link href="css/style.css" rel="stylesheet" /> 
<!--    <link href="css/mac_theme.css" rel="stylesheet" />   -->   
    <link href="css/win7_theme.css" rel="stylesheet" />  
    <script src="js/winReports.js"></script>
    <script src="js/main.js"></script>
    <title>Polymath Finesse</title>
</head>
<body id='body'>
    <!-- Start Ready Window -->
    <div id="winReady" class="window" onmousedown='mydragg.startMoving(this,"container",event);' onmouseup='mydragg.stopMoving("container");'>
        <div id="ready-in" class="window-in">
            <div id="ready-controls" style="margin:20px;">
            </br></br></br>
                <span id="ready-message">Feature Not Ready Yet!</span>
            </div>
        </div>
    </div>
    <!-- End Ready Window -->
    <!-- Start Login Window -->
    <div id="winlogin" class="window" onmousedown='mydragg.startMoving(this,"body",event);' onmouseup='mydragg.stopMoving("body");'>
        <div id="login-in" class="window-in">
            <div style="margin:20px;">
                <div id="login-controls">
                    <label for="txtUsername" class="lbl">Email:</label>
                    <input id="txtUsername" type="text" placeholder="Email" onkeydown = "txtUserName_Changed(event)"  onmousedown="(e=>e.stopPropagation())(event)" onmouseup="(e=>e.stopPropagation())(event)"/> 
                    <label for="txtPassword" class="lbl">Password :</label> 
                    <input id="txtPassword" type="password" placeholder="Password" onkeydown = "txtPassword_Changed(event)"  onmousedown="(e=>e.stopPropagation())(event)" onmouseup="(e=>e.stopPropagation())(event)"/> 
                </div>
                <div style="text-align: center;">
                    <input id="btnLogin" type="button" value="Login" onclick="btnLogin_Clicked()"  onmousedown="(e=>e.stopPropagation())(event)" onmouseup="(e=>e.stopPropagation())(event)"/>
                    <input id="btnCancel" type="button" value="Cancel"  onclick="btnLoginCancel_Clicked()"   onmousedown="(e=>e.stopPropagation())(event)" onmouseup="(e=>e.stopPropagation())(event)"/><br />
                    <span id="lblloginerror">Invalid Username or Password!</span>
                </div>
            </div>
        </div>
    </div>
    <!-- End Login Window -->
    <!-- Start Select Company Window -->
    <div id="winSelCompany" class="window" onmousedown='mydragg.startMoving(this,"body",event);' onmouseup='mydragg.stopMoving("body");'>
        <div class="head"><p>Select Company</p></div>
        <div id="SelCompany-in" class="window-in">
            <div style="margin:20px;">
                <div id="SelCompany-controls">
                    <div>
                        <select id="lstSelCompany_List" size="21"></select>
                    </div>
                    <div class="align_center">
                        <button id="btnSelCompany_Select" onclick="btnSelCompany_Select_Clicked()" >Select</button></br>
                        <button id="btnSelCompany_Cancel" onclick="btnLoginCancel_Clicked()" >Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Login Window -->    
    <!-- Start About Window -->
    <div id="winAbout" class="window" onmousedown='mydragg.startMoving(this,"body",event);' onmouseup='mydragg.stopMoving("body");'>
        <div class="head">
            <p>About Finesse </p>
            <div class="wcmd"><a class="min">-</a><a class="max">□</a><a class="close">✖</a></div>
            <div class="mcmd"> 
                <div class="close"><a class="closebtn" href="#"><span><strong>x</strong></span></a></div>
                <div class="min"><a class="minbtn" href="#"><span><strong>&ndash;</strong></span></a></div>
                <div class="max"><a class="maxbtn" href="#"><span><strong>+</strong></span></a></div>
            </div>
        </div>
        <div class="window-in" onmousedown="SetWindowOnTop(this, event);" onmouseup="(e=>e.stopPropagation())(event)">
            <div class="window-controls">
                Current version: <span id="version">vX.Y.Z</span>
                <div id="messages"></div>
            </div>
        </div>
    </div>
    <!-- End About Window -->
    <!-- Start Reports Window -->
    <div id="winReports" class="window" onmousedown='mydragg.startMoving(this,"body",event);' onmouseup='mydragg.stopMoving("body");'>
        <div class="head">
            <p>Reports</p>
            <div class="wcmd"><a class="min">-</a><a class="max">□</a><a class="close">✖</a></div>
            <div class="mcmd">
                <div class="close"><a class="closebtn" href="#"><span><strong>x</strong></span></a></div>
                <div class="min"><a class="minbtn" href="#"><span><strong>&ndash;</strong></span></a></div>
                <div class="max"><a class="maxbtn" href="#"><span><strong>+</strong></span></a></div>
            </div>
        </div>
        <div class="window-in" onmousedown="SetWindowOnTop(this, event);" onmouseup="(e=>e.stopPropagation())(event)">
            <div id="divReportsControls" class="window-controls">
                <div id="divReportsRow1">
                    <div id="divReportsCol1">
                        <span class="lbl">Reports</span> <button id="btnReports_Arrange">Arrange</button> </br>
                        <select id="lstReport_Reports" size="21"></select>
                    </div>
                    <div id="divReportsCol2">
                        <span class="lbl">Groups</span> </br>
                        <select id="lstReport_Groups" size="21"></select>
                    </div>
                    <div id="divReportsCol3"></div>
                </div>
                <div id="divReportsRow2"></div>
                <div id="divReportsRow3"></div>
            </div>
        </div>
    </div>
    <!-- End Reports Window -->

<script>
       
    // Listen for messages
    const {ipcRenderer} = require('electron');
    ipcRenderer.on('version', function(event, text) {
        document.getElementById('version').innerText = 'v' + text;
    })

    ipcRenderer.on('update_status', function(event, text) {
        var container = document.getElementById('messages');
        var message = document.createElement('div');
        message.innerHTML = text;
        container.appendChild(message);
    })

</script>
</body>
</html>